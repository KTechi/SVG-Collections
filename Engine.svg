<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1"
     viewBox="0 0 200 200">
  
  
  <!-- Background -->
  <rect fill="#BF73E5" x="0" y="0" width="200" height="200"/>
  
  <circle fill="#FFF" cx="100" cy="130" r="35"/>
  <path fill="#000" fill-opacity="0.5"
        d="M 40 40
           l 53 53
           a 37.6 37.6, 0 0 1, 14 0
           l 53 -53
           l 30 30
           l -53 53
           a 37.6 37.6, 0 1 1, -74 0
           l -53 -53
           Z"/>
  
  <defs>
    <g id="crankshaft">
      <path fill="#666" stroke="#AAA"
            d="M 80 120
               a 20 20, 0 0 1, 40 0
               h -7
               l -5 30
               a 8.2 8.2, 0 0 1, -16 0
               l -5 -30
               Z"/>
      <circle fill="#333" cx="100" cy="148" r="6"/>
    </g>
    <g id="piston">
      <path fill="#DDD"
            d="M 100 33 h18 v6  h-36 v-6  Z
               m   0   8 h18 v6  h-36 v-6  Z
               m   0   8 h18 v16 h-36 v-16 Z"/>
      <circle fill="#BBB" cx="100" cy="58" r="4" stroke="#FFF"/>
    </g>
  </defs>
  
  <!-- Connecting rod -->
  <line stroke="#666" stroke-width="10" x1="600" y1="400" x2="694" y2="550">
    <animate attributeName="x1"
             calcMode="spline"
             begin="-0.500s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="138; 164; 138"
             repeatCount="indefinite"/>
    <animate attributeName="y1"
             calcMode="spline"
             begin="-0.500s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="92; 67; 92"
             repeatCount="indefinite"/>
    <animate attributeName="x2"
             calcMode="spline"
             begin="-0.375s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="82; 118; 82"
             repeatCount="indefinite"/>
    <animate attributeName="y2"
             calcMode="spline"
             begin="-0.625s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="148; 112; 148"
             repeatCount="indefinite"/>
  </line>
  <line stroke="#444" stroke-width="4" x1="600" y1="400" x2="694" y2="550">
    <animate attributeName="x1"
             calcMode="spline"
             begin="-0.500s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="138; 164; 138"
             repeatCount="indefinite"/>
    <animate attributeName="y1"
             calcMode="spline"
             begin="-0.500s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="92; 67; 92"
             repeatCount="indefinite"/>
    <animate attributeName="x2"
             calcMode="spline"
             begin="-0.375s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="82; 118; 82"
             repeatCount="indefinite"/>
    <animate attributeName="y2"
             calcMode="spline"
             begin="-0.625s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="148; 112; 148"
             repeatCount="indefinite"/>
  </line>
  
  <!-- Crankshaft -->
  <use xlink:href="#crankshaft">
    <animateTransform attributeName="transform"
                      type="rotate"
                      begin="-0.625s"
                      dur="1s"
                      keyTimes="0; 1"
                      values="0 100 130; 360 100 130"
                      repeatCount="indefinite"/>
  </use>
  
  <!-- Piston -->
  <use xlink:href="#piston" transform="rotate(45 100 130)">
    <animateTransform attributeName="transform"
                      type="translate"
                      calcMode="spline"
                      begin="-0.5s"
                      dur="1s"
                      keyTimes="0; 0.5; 1"
                      values="0 18; 0 -18; 0 18"
                      keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
                      repeatCount="indefinite"
                      additive="sum"/>
  </use>
  
  <!-- ======== Another ======== -->
  <!-- Connecting rod -->
  <line stroke="#666" stroke-width="10" x1="600" y1="400" x2="694" y2="550">
    <animate attributeName="x1"
             calcMode="spline"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="62; 37; 62"
             repeatCount="indefinite"/>
    <animate attributeName="y1"
             calcMode="spline"
             dur="1s" keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="92; 67; 92"
             repeatCount="indefinite"/>
    <animate attributeName="x2"
             calcMode="spline"
             begin="-0.625s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="82; 118; 82"
             repeatCount="indefinite"/>
    <animate attributeName="y2"
             calcMode="spline"
             begin="-0.875s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="148; 112; 148"
             repeatCount="indefinite"/>
  </line>
  <line stroke="#444" stroke-width="4" x1="600" y1="400" x2="694" y2="550">
    <animate attributeName="x1"
             calcMode="spline"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="62; 37; 62"
             repeatCount="indefinite"/>
    <animate attributeName="y1"
             calcMode="spline"
             dur="1s" keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="92; 67; 92"
             repeatCount="indefinite"/>
    <animate attributeName="x2"
             calcMode="spline"
             begin="-0.625s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="82; 118; 82"
             repeatCount="indefinite"/>
    <animate attributeName="y2"
             calcMode="spline"
             begin="-0.875s"
             dur="1s"
             keyTimes="0; 0.5; 1"
             keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
             values="148; 112; 148"
             repeatCount="indefinite"/>
  </line>
  
  <!-- Crankshaft -->
  <use xlink:href="#crankshaft">
    <animateTransform attributeName="transform"
                      type="rotate"
                      begin="-0.875s"
                      dur="1s"
                      keyTimes="0; 1"
                      values="0 100 130; 360 100 130"
                      repeatCount="indefinite"/>
  </use>
  
  <!-- Piston -->
  <use xlink:href="#piston" transform="rotate(-45 100 130)">
    <animateTransform attributeName="transform"
                      type="translate"
                      calcMode="spline"
                      dur="1s"
                      keyTimes="0; 0.5; 1"
                      keySplines="0.3 0 0.7 1; 0.3 0 0.7 1"
                      values="0 18; 0 -18; 0 18"
                      repeatCount="indefinite"
                      additive="sum"/>
  </use>
  
  
</svg>